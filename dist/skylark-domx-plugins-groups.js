/**
 * skylark-domx-plugins-groups - The skylark list plugin library.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-domx/skylark-domx-plugins-groups/
 * @license MIT
 */
!function(e,t){var r=t.define,require=t.require,s="function"==typeof r&&r.amd,n=!s&&"undefined"!=typeof exports;if(!s&&!r){var a={};r=t.define=function(e,t,r){"function"==typeof r?(a[e]={factory:r,deps:t.map(function(t){return function(e,t){if("."!==e[0])return e;var r=t.split("/"),s=e.split("/");r.pop();for(var n=0;n<s.length;n++)"."!=s[n]&&(".."==s[n]?r.pop():r.push(s[n]));return r.join("/")}(t,e)}),resolved:!1,exports:null},require(e)):a[e]={factory:null,resolved:!0,exports:r}},require=t.require=function(e){if(!a.hasOwnProperty(e))throw new Error("Module "+e+" has not been defined");var module=a[e];if(!module.resolved){var r=[];module.deps.forEach(function(e){r.push(require(e))}),module.exports=module.factory.apply(t,r)||null,module.resolved=!0}return module.exports}}if(!r)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(e,require){e("skylark-domx-plugins-groups/groups",["skylark-domx-plugins-base/plugins"],function(e){"use strict";return e.groups={}}),e("skylark-domx-plugins-groups/group",["skylark-langx/langx","skylark-domx-query","skylark-domx-velm","skylark-domx-plugins-base","./groups"],function(e,t,r,s,n){"use strict";var a=s.Plugin.inherit({klassName:"Group",pluginName:"lark.groups.group",options:{classes:{},selectors:{},item:{template:'<span><i class="glyphicon"></i><a href="javascript: void(0);"></a> </span>',selector:"li",selectable:!1,multiSelect:!1,classes:{base:"item",selected:"selected",active:"active"}}},selected:null,_construct:function(e,t){this.overrided(e,t);var s=this,n=this._velm=r(this._elm),a=this.options.item.selector;n.on("click",a,function(){var e=r(this);if(!e.hasClass("disabled")){let e=s.getItemValue(this);s.setActiveItem(e),s.options.item.selectable&&(s.options.item.multiSelect?s.toggleSelectOneItem(e):(s.clearSelectedItems(),s.selectOneItem(e)))}return!1}),this.resetItems()},resetItems:function(){this._$items=this._velm.$(this.options.item.selector)},findItem:function(r){return(e.isNumber(r)?this._$items.eq(r):e.isString(r)?this._$items.filter('[data-value="'+r+'"]'):t(r))[0]},getItems:function(){return this._$items},getItemValue:function(e){let r=t(e),s=r.data("value");return void 0===s&&(s=this._$items.index(r[0])),s},getItemsCount:function(){return this._$items.size()},getItemIndex:function(e){return this._$items.index(e)},isSelectedItem:function(e){return t(this.findItem(e)).hasClass(this.options.item.classes.selected)},selectOneItem:function(e){t(this.findItem(e)).addClass(this.options.item.classes.selected)},unselectOneItem:function(e){t(this.findItem(e)).removeClass(this.options.item.classes.selected)},clearSelectedItems:function(){let e=this.options.item.classes.selected;this._$items.filter(`.${e}`).removeClass(e)},getSelectedItemValues:function(){let e=this.options.item.classes.selected;return this._$items.filter(`.${e}`).map(e=>this.getItemValue(e))},getSelectedItems:function(){let e=this.options.item.classes.selected;return this._$items.filter(`.${e}`)},getActiveItem:function(){let e=this.options.item.classes.active,t=this._$items.filter(`.${e}`);return t[0]||null},setActiveItem:function(e){let r=this.getActiveItem(),s=this.findItem(e);if(s!=r){let e=this.options.item.classes.active;t(r).removeClass(e),t(s).addClass(e)}},getSelectedItem:function(){let e=this.getSelectedItems();return e[0]||null},toggleSelectOneItem:function(e){this.isSelectedItem(e)?this.unselectOneItem(e):this.selectOneItem(e)},renderItemHtml:function(t){if(!this._renderItemHtml){let t=this.options.item.template;e.isString(t)?this._renderItemHtml=e.template(t):e.isFunction(t)&&(this._renderItemHtml=t)}return this._renderItemHtml(t)}});return s.register(a),n.Group=a}),e("skylark-domx-plugins-groups/linear",["skylark-langx/langx","skylark-domx-query","skylark-domx-velm","skylark-domx-plugins-base","skylark-domx-plugins-toggles/collapse","./groups","./group"],function(e,t,r,s,n,a,i){"use strict";var l=i.inherit({klassName:"Linear",pluginName:"lark.groups.linear",options:{item:{selectable:!0},data:{}},_construct:function(e,t){this.overrided(e,t),this.options.data.items&&this.addItems(this.options.data.items)}});return s.register(l),a.Linear=l}),e("skylark-domx-plugins-dnd/draggable",["skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-finder","skylark-domx-geom","skylark-domx-eventer","skylark-domx-styler","skylark-domx-plugins-base","./dnd","./manager"],function(e,t,r,s,n,a,i,l,o,d){a.on,a.off,r.attr,r.removeAttr,n.pagePosition,i.addClass,n.height;var g=l.Plugin.inherit({klassName:"Draggable",pluginName:"lark.dnd.draggable",options:{draggingClass:"dragging"},_construct:function(t,n){this.overrided(t,n);var i=this,n=this.options;i.draggingClass=n.draggingClass,["preparing","started","ended","moving"].forEach(function(t){e.isFunction(n[t])&&i.on(t,n[t])}),a.on(t,{mousedown:function(e){var t=i.options;t.handle&&(i.dragHandle=s.closest(e.target,t.handle),!i.dragHandle)||(t.source?i.dragSource=s.closest(e.target,t.source):i.dragSource=i._elm,d.prepare(i),i.dragSource&&r.attr(i.dragSource,"draggable","true"))},mouseup:function(e){i.dragSource&&(i.dragSource=null,i.dragHandle=null)},dragstart:function(e){r.attr(i.dragSource,"draggable","false"),d.start(i,e)},dragend:function(e){a.stop(e),d.dragging&&d.end(!1)}})}});return l.register(g,"draggable"),o.Draggable=g}),e("skylark-domx-plugins-dnd/droppable",["skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-finder","skylark-domx-geom","skylark-domx-eventer","skylark-domx-styler","skylark-domx-plugins-base","./dnd","./manager"],function(e,t,r,s,n,a,i,l,o,d){a.on,a.off,r.attr,r.removeAttr,n.pagePosition,i.addClass,n.height;var g=l.Plugin.inherit({klassName:"Droppable",pluginName:"lark.dnd.droppable",options:{draggingClass:"dragging"},_construct:function(t,r){this.overrided(t,r);var s,n,l=this,r=l.options,o=(r.draggingClass,!0);["started","entered","leaved","dropped","overing"].forEach(function(t){e.isFunction(r[t])&&l.on(t,r[t])}),a.on(t,{dragover:function(e){if(e.stopPropagation(),o){var t=a.create("overing",{overElm:e.target,transfer:d.draggingTransfer,acceptable:!0});l.trigger(t),t.acceptable&&(e.preventDefault(),e.dataTransfer.dropEffect="copyMove")}},dragenter:function(e){l.options;var t=l._elm,r=a.create("entered",{transfer:d.draggingTransfer});l.trigger(r),e.stopPropagation(),s&&o&&i.addClass(t,s)},dragleave:function(e){l.options;var t=l._elm;if(!o)return!1;var r=a.create("leaved",{transfer:d.draggingTransfer});l.trigger(r),e.stopPropagation(),s&&o&&i.removeClass(t,s)},drop:function(e){l.options;var t=l._elm;if(a.stop(e),d.dragging){s&&o&&i.addClass(t,s);var r=a.create("dropped",{transfer:d.draggingTransfer});l.trigger(r),d.end(!0)}}}),d.on("dndStarted",function(e){var r=a.create("started",{transfer:d.draggingTransfer,acceptable:!1});l.trigger(r),o=r.acceptable,s=r.hoverClass,(n=r.activeClass)&&o&&i.addClass(t,n)}).on("dndEnded",function(e){var r=a.create("ended",{transfer:d.draggingTransfer,acceptable:!1});l.trigger(r),s&&o&&i.removeClass(t,s),n&&o&&i.removeClass(t,n),o=!1,n=null,s=null})}});return l.register(g,"droppable"),o.Droppable=g}),e("skylark-domx-plugins-groups/sortable",["./groups","skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-geom","skylark-domx-eventer","skylark-domx-styler","skylark-domx-query","skylark-domx-plugins-base","skylark-domx-plugins-dnd/draggable","skylark-domx-plugins-dnd/droppable"],function(e,t,r,s,n,a,i,l,o,d,g){"use strict";a.on,a.off,s.attr,s.removeAttr,n.pagePosition,i.addClass,n.height,Array.prototype.some,Array.prototype.map,o.Plugin.inherit({klassName:"Sorter",enable:function(){},disable:function(){},destory:function(){}});var u,c=l(),m=o.Plugin.inherit({klassName:"Sortable",pluginName:"lark.groups.sortable",options:{connectWith:!1,placeholder:null,placeholderClass:"sortable-placeholder",draggingClass:"sortable-dragging",items:null},_construct:function(e,t){this.overrided(e,t),t=this.options;var s,n=l(e),a=n.children(t.items),i=l(t.placeholder||r.createElement(/^(ul|ol)$/i.test(e.tagName)?"li":"div",{class:t.placeholderClass}));d(e,{source:t.items,handle:t.handle,draggingClass:t.draggingClass,preparing:function(e){},started:function(e){e.ghost=e.dragSource,e.transfer={text:"dummy"},s=(u=l(e.dragSource)).index()},ended:function(e){u&&(u.show(),c.detach(),s!=u.index()&&u.parent().trigger("sortupdate",{item:u}),u=null)}}),g(e,{started:function(e){e.acceptable=!0,e.activeClass="active",e.hoverClass="over"},overing:function(e){a.is(e.overElm)?(t.forcePlaceholderSize&&i.height(u.outerHeight()),u.hide(),l(e.overElm)[i.index()<l(e.overElm).index()?"after":"before"](i),c.not(i).detach()):c.is(e.overElm)||l(e.overElm).children(t.items).length||(c.detach(),l(e.overElm).append(i))},dropped:function(e){c.filter(":visible").after(u),u.show(),c.detach(),u=null}}),n.data("items",t.items),c=c.add(i),t.connectWith&&l(t.connectWith).add(this).data("connectWith",t.connectWith)}});return o.register(m,"sortable"),e.Sortable=m}),e("skylark-domx-plugins-groups/tiler",["skylark-langx/langx","skylark-domx-query","skylark-domx-velm","skylark-domx-plugins-base","./groups","./group"],function(e,t,r,s,n,a){"use strict";var i=a.inherit({klassName:"Tiler",pluginName:"lark.groups.tiler",options:{alignment:"left",infiniteScroll:!1,itemRendered:null,noItemsHTML:"no items found",selectable:!1,viewClass:"repeater-tile",template:'<div class="clearfix repeater-tile" data-container="true" data-infinite="true" data-preserve="shallow"></div>',item:{template:'<div class="thumbnail"><img height="75" src="<%= href %>" width="65"><span><%= title %></span></div>',selectable:!0},renderItem:null},_construct:function(r,s){this.overrided(r,s),this._renderItem=e.template(this.options.item.template);for(var n=0;n<s.items.length;n++){var a=this._renderItem(s.items[n]);this._velm.append(t(a))}}});return s.register(i),n.Tiler=i}),e("skylark-domx-plugins-groups/main",["./groups","./group","./linear","./sortable","./tiler"],function(e){return e}),e("skylark-domx-plugins-groups",["skylark-domx-plugins-groups/main"],function(e){return e})}(r),!s){var i=require("skylark-langx-ns");n?module.exports=i:t.skylarkjs=i}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-domx-plugins-groups.js.map
